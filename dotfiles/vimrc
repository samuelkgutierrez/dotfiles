""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" Samuel K. Gutierrez
" .vimrc
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
set nocompatible

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" setup vundle
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
filetype off
set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()

" let vundle manage vundle -- required!
Plugin 'gmarik/Vundle.vim'
" my bundles:
" github repos
Plugin 'Lokaltog/vim-powerline'
Plugin 'scrooloose/syntastic'
Plugin 'scrooloose/nerdtree'
Plugin 'msanders/snipmate.vim'
Plugin 'Valloric/MatchTagAlways.git'
Plugin 'Valloric/YouCompleteMe'
Plugin 'xolox/vim-misc'
Plugin 'xolox/vim-session'
Plugin 'Blackrush/vim-gocode'
Plugin 'wting/rust.vim'

call vundle#end()            " required
filetype plugin indent on    " required

"
":PluginInstall
"

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" YouCompleteMe
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
let g:ycm_autoclose_preview_window_after_insertion = 1
let g:ycm_confirm_extra_conf = 0

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" VIM-Session
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
:let g:session_autosave = 'no'

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" colors
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
set t_Co=256

"colorscheme ir_black

""" solarized
"colorscheme solarized
set background=dark
let g:solarized_termcolors = 256

""" sunburst
colorscheme sunburst

set showcmd
syntax on
" fix backspace in insert mode
set backspace=indent,eol,start
"set number
set ruler
set tabstop=4
set shiftwidth=4
set expandtab
set autoindent
set smartindent
set incsearch
set showmatch
set ls=2
set hlsearch
set textwidth=80
set softtabstop=4

""" vim-session
" :SaveSession <name>
" :OpenSession
let g:session_autoload = 'no'

" make file open auto-complete more sane
set wildmenu
set wildmode=list:longest

" working directory is always the same as the buffer you are editing
" this is nice, but it confuses ctags :-(
"autocmd BufEnter * lcd %:p:h
"
"execute pathogen#infect()
" testing
" filetype plugin on

" underline bad spelling
hi clear SpellBad
hi SpellBad cterm=underline
hi SpellCap cterm=underline

hi Search ctermfg=red cterm=underline

" stop terrible default indentation of '#'s in python
autocmd BufRead *.py inoremap # X<c-h>#

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" omnicompletion stuff
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"set ofu=syntaxcomplete#Complete
"if v:version >= 700
"    " override built-in C omnicomplete with C++ OmniCppComplete plugin
"    set omnifunc=syntaxcomplete#Complete
"    let OmniCpp_GlobalScopeSearch   = 1
"    let OmniCpp_DisplayMode         = 1
"    let OmniCpp_ShowScopeInAbbr     = 0 "do not show namespace in pop-up
"    let OmniCpp_ShowPrototypeInAbbr = 1 "show prototype in pop-up
"    let OmniCpp_ShowAccess          = 1 "show access in pop-up
"    let OmniCpp_SelectFirstItem     = 1 "select first item in pop-up
"    set completeopt=menuone,menu,longest
"endif

" change the popup menu color
"hi Pmenu ctermfg=green ctermbg=darkgrey guifg=lightgrey guibg=brown
"hi PmenuSel ctermfg=red ctermbg=darkgrey guifg=white guibg=grey40

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" notes
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" setf - set filetype
" folding - zf unfolding - zfa
" :%!xxd to switch into hex mode.
" :%!xxd -r to exit from hex mode.
" :set spell - z= for suggestions

""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" cscope stuff
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" update cscope db:
" o :!cscope -Rb
" o :cs reset
"
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" make buffer
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" :make
" :copen
